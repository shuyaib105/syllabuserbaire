<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>এক্সাম সেন্টার | সিলেবাসের বাইরে</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tiro+Bangla:ital@0;1&family=Montserrat:wght@400;500;600;700;800&display=swap');
    </style>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        :root {
            --bg-cream: #FFFDF5;
            --accent-yellow: #FFD200;
            --dark-gold: #B8860B;
            --text-main: #333;
            --white: #ffffff;
            --shadow: 0 15px 40px rgba(0,0,0,0.08);
            --correct: #10b981;
            --wrong: #ef4444;
            --black: #0f172a;
            --mark-color: #8b5cf6;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--bg-cream);
            color: var(--text-main);
            /* ডিফল্ট ফন্ট হিসেবে Tiro Bangla সেট করা হয়েছে */
            font-family: 'Tiro Bangla', serif;
            line-height: 1.6;
        }

        /* শুধুমাত্র ইংরেজি টেক্সট বা সংখ্যার জন্য এই ক্লাসটি ব্যবহার করা হবে */
        .eng { font-family: 'Montserrat', sans-serif !important; }

        /* --- Header --- */
        header {
            background: var(--white);
            padding: 12px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .logo-img { height: 45px; width: auto; }
        .dashboard-btn {
            background: var(--black);
            color: white;
            padding: 10px 18px;
            border-radius: 12px;
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Montserrat', sans-serif;
        }

        .container { max-width: 900px; margin: 20px auto; padding: 0 15px; }

        .card {
            background: var(--white);
            padding: 40px 30px;
            border-radius: 28px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        /* --- Exam Status Bar --- */
        .exam-status-bar {
            background: var(--black);
            color: #fff;
            padding: 15px 25px;
            border-radius: 18px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 80px;
            z-index: 998;
        }
        .timer-val { font-family: 'Montserrat'; font-weight: 800; color: var(--accent-yellow); font-size: 24px; }

        /* --- Questions --- */
        .question-card {
            background: var(--white);
            padding: 28px;
            border-radius: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 1px solid #f1f5f9;
        }
        .q-header { display: flex; justify-content: space-between; margin-bottom: 18px; align-items: flex-start; }
        .q-text { font-size: 20px; font-weight: 700; color: #1e293b; flex: 1; }
        .q-num { color: var(--dark-gold); font-family: 'Montserrat'; font-weight: 800; margin-right: 12px; font-size: 22px; }
        
        .mark-btn {
            background: #f1f5f9; border: none; color: #64748b; padding: 6px 12px;
            border-radius: 8px; cursor: pointer; font-size: 11px; font-weight: 700; font-family: 'Montserrat';
        }
        .mark-btn.active { background: var(--mark-color); color: white; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 650px) { .options-grid { grid-template-columns: 1fr; } }

        .opt {
            padding: 16px 20px;
            border: 2px solid #f1f5f9;
            border-radius: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 17px; /* বড় সাইজ */
            background: #fafafa;
            transition: all 0.2s;
            font-family: 'Tiro Bangla', serif; /* বাংলা ফন্ট নিশ্চিত করা হলো */
        }
        .opt:hover { border-color: var(--accent-yellow); background: #fffdf5; }
        .opt.selected { border-color: var(--dark-gold); background: #fffcf0; font-weight: 700; }
        .opt.is-correct { border-color: var(--correct); background: #ecfdf5; color: var(--correct); }
        .opt.is-wrong { border-color: var(--wrong); background: #fef2f2; color: var(--wrong); }
        .opt.locked { pointer-events: none; }

        /* --- Result UI --- */
        .score-circle {
            width: 140px; height: 140px; border-radius: 50%;
            background: var(--black); color: white;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            margin: 0 auto 20px; border: 8px solid var(--accent-yellow);
        }
        .score-val { font-size: 38px; font-weight: 800; font-family: 'Montserrat'; }
        .grid-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 30px; }
        .stat-box { padding: 20px; border-radius: 20px; text-align: center; background: #f8fafc; border-bottom: 4px solid #ddd; }

        /* --- Navigator --- */
        .navigator-box {
            position: fixed; right: 20px; bottom: 100px;
            background: var(--white); padding: 20px; border-radius: 24px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            width: 260px; display: none; z-index: 1001;
        }
        .nav-dots { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-top: 15px; }
        .dot {
            width: 38px; height: 38px; border-radius: 10px; background: #f1f5f9;
            display: flex; align-items: center; justify-content: center;
            font-size: 14px; font-weight: 700; cursor: pointer; font-family: 'Montserrat';
        }
        .dot.answered { background: var(--black); color: white; }
        .dot.marked { background: var(--mark-color); color: white; }

        .nav-toggle {
            position: fixed; right: 20px; bottom: 30px;
            width: 55px; height: 55px; border-radius: 50%;
            background: var(--black); color: white; display: flex;
            align-items: center; justify-content: center; cursor: pointer; z-index: 1002;
        }

        .btn-primary {
            background: var(--accent-yellow); color: #000; border: none;
            padding: 16px 45px; border-radius: 50px; font-weight: 800;
            font-size: 18px; cursor: pointer; font-family: 'Tiro Bangla'; transition: 0.3s;
        }
        .btn-dark {
            background: var(--black); color: white; border: none;
            padding: 14px 30px; border-radius: 15px; font-weight: 600;
            cursor: pointer; font-family: 'Montserrat'; display: flex; align-items: center; gap: 8px;
        }

        .explanation { 
            background: #f0fdf4; border-left: 4px solid var(--correct);
            padding: 15px; margin-top: 15px; border-radius: 12px; font-size: 15px;
        }
        .qimg { max-width: 100%; border-radius: 12px; margin: 10px 0; }
    </style>
</head>
<body>

    <header>
        <img src="https://raw.githubusercontent.com/shuyaib105/syllabuserbaire/refs/heads/main/ei_1766508088751-removebg-preview.png" class="logo-img">
        <a href="dashboard.html" class="dashboard-btn eng">DASHBOARD</a>
    </header>

    <div class="container">
        <!-- Section: Intro -->
        <div id="welcome-screen" class="card" style="text-align:center;">
            <h1 style="font-size: 32px; margin-bottom: 10px;">পদার্থবিজ্ঞানঃ প্রথম পত্র</h1>
            <p style="color: #64748b; margin-bottom: 30px;" class="eng">Physics 1st Paper | Full Syllabus MCQ</p>
            
            <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 35px;">
                <div style="background: #f1f5f9; padding: 15px 25px; border-radius: 20px;">
                    <span class="eng" style="display:block; font-size: 22px; font-weight: 800;">19</span>
                    <small>প্রশ্ন</small>
                </div>
                <div style="background: #f1f5f9; padding: 15px 25px; border-radius: 20px;">
                    <span class="eng" style="display:block; font-size: 22px; font-weight: 800;">10:00</span>
                    <small>মিনিট</small>
                </div>
            </div>
            
            <button class="btn-primary" onclick="startExam()">পরীক্ষা শুরু করুন <i class="fas fa-arrow-right" style="margin-left:10px;"></i></button>
        </div>

        <!-- Section: Exam -->
        <div id="exam-screen" style="display: none;">
            <div class="exam-status-bar">
                <div class="eng" style="font-weight:700; letter-spacing: 1px;">EXAM IN PROGRESS</div>
                <div class="timer-val" id="timer">10:00</div>
            </div>

            <div id="questions-list"></div>

            <div style="text-align: center; padding: 40px 0;">
                <button class="btn-primary" style="background: var(--black); color: #fff;" onclick="submitExam()">সাবমিট করুন <i class="fas fa-paper-plane" style="margin-left:10px;"></i></button>
            </div>
        </div>

        <!-- Section: Results & Solve Sheet -->
        <div id="result-screen" style="display: none;">
            <div class="card">
                <div style="text-align: center; margin-bottom: 30px;">
                    <div class="score-circle">
                        <span class="score-val" id="res-score">0</span>
                        <small class="eng" style="opacity:0.7">SCORE</small>
                    </div>
                    <h2 style="font-size: 28px;">আপনার ফলাফল রিপোর্ট</h2>
                </div>

                <div class="grid-stats">
                    <div class="stat-box" style="border-bottom-color: var(--correct);">
                        <span class="score-val eng" style="color: var(--correct); font-size: 24px;" id="res-correct">0</span>
                        <p>সঠিক</p>
                    </div>
                    <div class="stat-box" style="border-bottom-color: var(--wrong);">
                        <span class="score-val eng" style="color: var(--wrong); font-size: 24px;" id="res-wrong">0</span>
                        <p>ভুল</p>
                    </div>
                    <div class="stat-box" style="border-bottom-color: #94a3b8;">
                        <span class="score-val eng" style="color: #64748b; font-size: 24px;" id="res-skip">0</span>
                        <p>স্কিপ</p>
                    </div>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 30px;">
                    <button class="btn-dark" style="flex:1; justify-content:center;" onclick="downloadPDF('solve')"><i class="fas fa-file-pdf"></i> Solve PDF</button>
                    <button class="btn-dark" style="flex:1; justify-content:center; background:#475569;" onclick="downloadPDF('practice')"><i class="fas fa-download"></i> Practice PDF</button>
                </div>
            </div>

            <div id="solve-sheet-area"></div>
        </div>
    </div>

    <!-- Navigator Elements -->
    <div class="nav-toggle" id="nav-btn" style="display:none;" onclick="toggleNavigator()">
        <i class="fas fa-th-large"></i>
    </div>
    <div class="navigator-box" id="navigator">
        <p style="font-weight: 800; border-bottom: 1px solid #eee; padding-bottom: 10px;" class="eng">QUESTION NAV</p>
        <div class="nav-dots" id="nav-dots-grid"></div>
        <div style="margin-top: 15px; font-size: 11px; color: #666; display: flex; flex-wrap: wrap; gap: 10px;">
            <span><i class="fas fa-circle" style="color:var(--black)"></i> Answered</span>
            <span><i class="fas fa-circle" style="color:var(--mark-color)"></i> Marked</span>
        </div>
    </div>

    <script>
        const questions = [
            { "id": "1", "question_text": "1MegaW সমান কত?", "option1": "10<sup>6</sup> W", "option2": "10<sup>6</sup> Js", "option3": "1000 KW", "option4": "সবগুলো", "answer": "4", "explanation": "1 MegaW = 10^6 W, আবার 1 W = 1 J/s। এছাড়া 1000 KW = 10^6 W।" },
            { "id": "2", "question_text": "মাত্রাহীন রাশি কোনটি?", "option1": "কোণ", "option2": "বিকৃতি", "option3": "ঘনকোণ", "option4": "সবগুলো", "answer": "4", "explanation": "আনুপাতিক রাশিসমুহ মাত্রাহীন রাশি হয়ে থাকে।" },
            { "id": "3", "question_text": "একটি গোলকের পরিমাপ্য ব্যাসার্ধ ( 2.5 ± 0.2 ) cm হলে, এর আয়তন পরিমাপে শতকরা ত্রুটি কত?", "option1": "0.08%", "option2": "8%", "option3": "16%", "option4": "24%", "answer": "4", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307140159.jpg'>" },
            { "id": "4", "question_text": "পুনরাবৃত্তিক ক্রটি কোনটি?", "option1": "স্ক্রু - গজের শূণ্য ত্রুটি", "option2": "দৃষ্টিভ্রম", "option3": "অনিয়মিত ত্রুটি", "option4": "সামগ্রিক ত্রুটি", "answer": "1", "explanation": "স্ক্রু গজের শুন্য ত্রুটি এর উদাহরণ।" },
            { "id": "5", "question_text": "পদার্থবিজ্ঞান কথাটি গ্রিক শব্দ ----- থেকে এসেছে।", "option1": "Fusis", "option2": "Fuss", "option3": "Fusil", "option4": "Fusia", "answer": "1", "explanation": "গ্রিক শব্দ Fusis (প্রকৃতি) হতে এসেছে" },
            { "id": "6", "question_text": "যদি A = B<sup>n</sup>C<sup>m</sup> এবং A, B ও C এর মাত্রা যথাক্রমে, LT, L<sup>2</sup>T <sup>-1</sup>এবং LT<sup>2</sup> হয় তবে n ও m এর মান হবে-", "option1": "2/3, 1/3", "option2": "2, 3", "option3": "4/5, -1/5", "option4": "1/5, 3/5", "answer": "4", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307140610.jpg'>" },
            { "id": "7", "question_text": "একটি স্লাইড ক্যালিপার্সের প্রধান স্কেলের ক্ষুদ্রতম এক ঘরের মান 1mm. ভার্ণিয়ার স্কেলের 20 ঘর প্রধান স্কেলের 19 ঘরের সমান। ওই স্কেলের ভার্ণিয়ার ধ্রুবক হবে-", "option1": "0.5mm", "option2": "0.1mm", "option3": "0.01mm", "option4": "0.05mm", "answer": "4", "explanation": "ভার্নিয়ার ধ্রুবক = 1/20 = 0.05" },
            { "id": "8", "question_text": "যদি →A×→B = −(→B × →A) হয় তবে এদের মধ্যবর্তী কোণ?", "option1": "π", "option2": "π/2", "option3": "π/4", "option4": "2π", "answer": "1", "explanation": "" },
            { "id": "9", "question_text": "কোনটি ভেক্টর রাশি?", "option1": "বৈদ্যুতিক প্রাবল্য", "option2": "বৈদ্যুতিক বিভব", "option3": "স্বর্ণপাত ধারকযন্ত্র", "option4": "আয়তন", "answer": "1", "explanation": "" },
            { "id": "10", "question_text": "সঠিক উত্তর কোনটি? [উক্ত প্রশ্নে ও অপশনে i, j, k. উপর ভেক্টর চিহ্ন বিবেচিত]", "option1": "k × j = i", "option2": "k × j = 1", "option3": "k × j = -i", "option4": "k × j = 0", "answer": "3", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307141851.jpg'>" },
            { "id": "11", "question_text": "একটি বস্তুকে সে পরিমাণ বল দ্বারা পূর্বদিকে, সেই একই পরিমাণ বল দ্বারা দক্ষিণ দিকে টানা হচ্ছে। লব্ধিবল পশ্চিম দিকের সাথে কত কোণ উৎপন্ন করবে?", "option1": "45", "option2": "90", "option3": "135", "option4": "180", "answer": "3", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307155858.jpg'>" },
            { "id": "12", "question_text": "যদি →B = x²yˆi + y²zˆj + z²xˆk হয়, তবে (1, 1, 0) বিন্দুতে →∇.→B এর মান নির্ণয় কর।", "option1": "2", "option2": "-2", "option3": "1", "option4": "-1", "answer": "1", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307160113.jpg'>" },
            { "id": "13", "question_text": "যদি দুটি সমান ভেক্টরের লব্ধি যে কোন একটির সমান হয়,তবে ভেক্টরদ্বয়ের মধ্যবর্তী কোণ কত হবে?", "option1": "120", "option2": "90", "option3": "60", "option4": "30", "answer": "1", "explanation": "১২০ ডিগ্রি কোণে দুটি সমান ভেক্টর কাজ করলে লব্ধিও সমান হয়।" },
            { "id": "14", "question_text": "এক মিটার চক্রগতির ব্যাসার্ধ বিশিষ্ট বৃত্তাকার চাকার মোমেন্ট ও কৌণিক ত্বরণ 20 Nm ও 10 rad/sec<sup>2</sup> হলে চাকাটির ভর কত?", "option1": "1 kg", "option2": "2 kg", "option3": "1 gm", "option4": "2 gm", "answer": "2", "explanation": "I = τ/α = 20/10 = 2 kgm². m = I/K² = 2/1 = 2 kg." },
            { "id": "15", "question_text": "π/5 Nm মানের একটি টর্ক 30 rpm বেগে ঘূর্ণায়মান একটি চাকাকে 10s এ থামিয়ে দেয়। চাকার জড়তার ভ্রামক কত kgm<sup>2</sup> ?", "option1": "2", "option2": "2π", "option3": "4", "option4": "4/π", "answer": "1", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307160902.jpg'>" },
            { "id": "16", "question_text": "চিত্রের কোনটি সঠিক?", "option1": "A", "option2": "B", "option3": "C", "option4": "D", "answer": "4", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307225011.jpg'>" },
            { "id": "17", "question_text": "একটি হালকা বস্তু ও একটি ভারী বস্তু গতিশক্তি সমান। কার ভরবেগ বেশি?", "option1": "ভারী বস্তু", "option2": "হালকা বস্তু", "option3": "উভয় বস্তুর", "option4": "বলা সম্ভব নয়", "answer": "1", "explanation": "গতিশক্তি সমান হলে যার ভর বেশি তার ভরবেগ বেশি।" },
            { "id": "18", "question_text": "একটি মোটর প্রতি মিনিটে 5kg ভরের পানি তুলে ৪√৫ m/s বেগে নিক্ষেপ করে। গভীরতা 8m হলে মোটর ক্ষমতা কত?", "option1": "1 W", "option2": "10 W", "option3": "100 W", "option4": "1000 W", "answer": "2", "explanation": "P = (mgh + 0.5mv²)/t = (5*10*8 + 0.5*5*80)/60 = 10 W" },
            { "id": "19", "question_text": "চিত্রের ফলাফল কত?", "option1": "8 cm", "option2": "80 cm", "option3": "8 m", "option4": "8 mm", "answer": "1", "explanation": "<br /><img class='qimg' src='https://www.rayvila.com/5/250307230345.jpg'>" }
        ];

        let userAnswers = new Array(questions.length).fill(null);
        let markedQuestions = new Set();
        let timeLeft = 600;
        let timerId;

        function startExam() {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('exam-screen').style.display = 'block';
            document.getElementById('nav-btn').style.display = 'flex';
            renderQuestions();
            renderNavigator();
            startTimer();
        }

        function renderQuestions() {
            const list = document.getElementById('questions-list');
            list.innerHTML = questions.map((q, idx) => `
                <div class="question-card" id="q-card-${idx}">
                    <div class="q-header">
                        <div class="q-text">
                            <span class="q-num">${idx + 1}.</span> ${q.question_text}
                        </div>
                        <button class="mark-btn" id="mark-${idx}" onclick="toggleMark(${idx})">MARK</button>
                    </div>
                    <div class="options-grid">
                        ${[1, 2, 3, 4].map(i => `
                            <div class="opt" id="opt-${idx}-${i}" onclick="selectOption(${idx}, ${i})">
                                <span class="eng" style="font-weight:800; opacity:0.5">${String.fromCharCode(64+i)}</span>
                                <span>${q['option'+i]}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function selectOption(qIdx, optIdx) {
            if(userAnswers[qIdx] !== null) return;
            userAnswers[qIdx] = optIdx;
            for(let i=1; i<=4; i++) {
                const el = document.getElementById(`opt-${qIdx}-${i}`);
                el.classList.add('locked');
                if(i === optIdx) el.classList.add('selected');
            }
            updateNavUI();
        }

        function toggleMark(idx) {
            const btn = document.getElementById(`mark-${idx}`);
            if(markedQuestions.has(idx)) {
                markedQuestions.delete(idx);
                btn.classList.remove('active');
            } else {
                markedQuestions.add(idx);
                btn.classList.add('active');
            }
            updateNavUI();
        }

        function startTimer() {
            timerId = setInterval(() => {
                timeLeft--;
                let m = Math.floor(timeLeft / 60);
                let s = timeLeft % 60;
                document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
                if(timeLeft <= 0) submitExam();
            }, 1000);
        }

        function renderNavigator() {
            const grid = document.getElementById('nav-dots-grid');
            grid.innerHTML = questions.map((_, i) => `
                <div class="dot" id="dot-${i}" onclick="jumpTo(${i})">${i+1}</div>
            `).join('');
        }

        function updateNavUI() {
            questions.forEach((_, i) => {
                const dot = document.getElementById(`dot-${i}`);
                dot.classList.remove('answered', 'marked');
                if(userAnswers[i] !== null) dot.classList.add('answered');
                if(markedQuestions.has(i)) dot.classList.add('marked');
            });
        }

        function jumpTo(idx) {
            document.getElementById(`q-card-${idx}`).scrollIntoView({ behavior: 'smooth', block: 'center' });
            toggleNavigator(false);
        }

        function toggleNavigator(force) {
            const nav = document.getElementById('navigator');
            nav.style.display = (force === false) ? 'none' : (nav.style.display === 'block' ? 'none' : 'block');
        }

        function submitExam() {
            clearInterval(timerId);
            document.getElementById('exam-screen').style.display = 'none';
            document.getElementById('nav-btn').style.display = 'none';
            document.getElementById('navigator').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';

            let correct = 0, wrong = 0, skip = 0;
            userAnswers.forEach((ans, i) => {
                if(ans === null) skip++;
                else if(ans == questions[i].answer) correct++;
                else wrong++;
            });

            document.getElementById('res-score').innerText = correct;
            document.getElementById('res-correct').innerText = correct;
            document.getElementById('res-wrong').innerText = wrong;
            document.getElementById('res-skip').innerText = skip;

            renderSolveSheet();
            window.scrollTo(0, 0);
        }

        function renderSolveSheet() {
            const area = document.getElementById('solve-sheet-area');
            area.innerHTML = `<h2 style="margin: 40px 0 25px; text-align:center;">বিস্তারিত সমাধান ও ব্যাখ্যা</h2>`;
            
            questions.forEach((q, i) => {
                const userChoice = userAnswers[i];
                const correctChoice = q.answer;

                area.innerHTML += `
                    <div class="question-card">
                        <div class="q-header">
                            <div class="q-text"><span class="q-num">${i+1}.</span> ${q.question_text}</div>
                        </div>
                        <div class="options-grid">
                            ${[1,2,3,4].map(j => {
                                let cls = '';
                                if(j == correctChoice) cls = 'is-correct';
                                else if(j == userChoice && userChoice != correctChoice) cls = 'is-wrong';
                                return `
                                    <div class="opt locked ${cls}">
                                        <span class="eng" style="font-weight:800">${String.fromCharCode(64+j)}</span>
                                        <span>${q['option'+j]}</span>
                                        ${j == correctChoice ? '<i class="fas fa-check-circle" style="margin-left:auto"></i>' : ''}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        <div class="explanation">
                            <strong>ব্যাখ্যা:</strong> ${q.explanation}
                        </div>
                    </div>
                `;
            });
        }

        function downloadPDF(type) {
            const temp = document.createElement('div');
            temp.style.padding = '40px';
            temp.style.background = 'white';
            temp.style.fontFamily = "'Tiro Bangla', serif";

            let content = `
                <div style="text-align:center; border-bottom: 2px solid #333; padding-bottom:15px; margin-bottom:30px;">
                    <img src="https://raw.githubusercontent.com/shuyaib105/syllabuserbaire/refs/heads/main/ei_1766508088751-removebg-preview.png" style="height:60px;">
                    <h1 style="margin:5px 0;">সিলেবাসের বাইরে</h1>
                    <p>পদার্থবিজ্ঞানঃ প্রথম পত্র | ${type === 'solve' ? 'সমাধান কপি' : 'অনুশীলন কপি'}</p>
                </div>
            `;

            questions.forEach((q, i) => {
                content += `
                    <div style="margin-bottom: 20px; page-break-inside: avoid;">
                        <p><strong>${i+1}. ${q.question_text}</strong></p>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:5px; font-size:14px;">
                            <span>(ক) ${q.option1}</span> <span>(খ) ${q.option2}</span>
                            <span>(গ) ${q.option3}</span> <span>(ঘ) ${q.option4}</span>
                        </div>
                        ${type === 'solve' ? `
                            <p style="color:#10b981; margin-top:5px; font-weight:bold;">সঠিক উত্তর: ${q['option'+q.answer]}</p>
                            <div style="font-size:12px; color:#666; background:#f9f9f9; padding:8px; border-left:3px solid #ddd;">${q.explanation}</div>
                        ` : ''}
                    </div>
                `;
            });

            temp.innerHTML = content;
            html2pdf().set({
                margin: 10,
                filename: `SB_Physics_${type}.pdf`,
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            }).from(temp).save();
        }
    </script>
</body>
</html>

